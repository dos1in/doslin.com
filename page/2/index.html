<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"doslin.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="DosLin&#39;s Blog">
<meta property="og:url" content="http://doslin.com/page/2/index.html">
<meta property="og:site_name" content="DosLin&#39;s Blog">
<meta property="og:locale">
<meta property="article:author" content="DosLin">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://doslin.com/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-Hans","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>DosLin's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">DosLin's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">什么都略懂一点，生活更美好一些</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">DosLin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/JChord" title="Github → https:&#x2F;&#x2F;github.com&#x2F;JChord" rel="noopener me" target="_blank"><i class="github fa-fw"></i>Github</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:doslino@gmail.com" title="E-Mail → mailto:doslino@gmail.com" rel="noopener me" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2016/12/22/tricky-git-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/12/22/tricky-git-tips/" class="post-title-link" itemprop="url">Tricky Git Tips</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-12-22 18:23:15" itemprop="dateCreated datePublished" datetime="2016-12-22T18:23:15+08:00">2016-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul>
<li>以下内容不牵涉 Git 的内部实现原理，阅读正文将花费您大约15分钟。</li>
<li>文中的所有 Git 命令省略了参数，完整调用请查阅官方文档。</li>
<li>本文基于一次组内分享的内容整理，希望对各位有所帮助。</li>
</ul>
<p>作为开发者，使用 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Git">Git</a> 作为项目的代码控制系统已经是必备技能了（当然，还有本文的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Markdown">MarkDown</a>），而日常工作中的你是否只停留在无尽的 <code>pull</code> 与 <code>push</code> 中呢？</p>
<p>下面就来介绍 Git 中的几种实用命令，相信会对你今后可能遇到的实际工作场景带来实质性的效率提升。</p>
<p>介绍命令之前，首先我们先需要了解下 Git 中<strong>操作区域</strong>的概念。</p>
<h2 id="操作区域"><a href="#操作区域" class="headerlink" title="操作区域"></a>操作区域</h2><p>Git 的操作区域和 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Vi">vi</a> 中的缓冲区的概念很类似，不同的 Git 命令会在不同的操作区域中工作。</p>
<p><img src="/images/2016/12/git01.png" alt="操作区域"></p>
<p>如图所示，Git的 <code>add</code> 操作会将文件的修改记录保存在<strong>暂存区</strong>，之后进行的 <code>commit</code> 操作会将暂存区的修改内容全部提交到<strong>历史区</strong>，最后进行的 <code>push</code> 操作将会把本地的操作记录推送到<strong>远程仓库</strong>中去。<br>之所以此处远程库的背景色使用了暗色调，是因为推送到远程库的代码是需要你“负责”的，一旦发布即是历史的诞生，请对 <code>push</code> 的操作保持敬畏和责任感。同时这里也牵涉到 Git 中<strong>提交哲学</strong>的概念。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2016/12/22/tricky-git-tips/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2016/10/08/embedded-react-native-in-app-android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/10/08/embedded-react-native-in-app-android/" class="post-title-link" itemprop="url">弹射起步：Android原生项目集成React Native模块</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-10-08 14:57:22" itemprop="dateCreated datePublished" datetime="2016-10-08T14:57:22+08:00">2016-10-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/react-native/" itemprop="url" rel="index"><span itemprop="name">react-native</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <hr>
<h2 id="说明和前提"><a href="#说明和前提" class="headerlink" title="说明和前提"></a>说明和前提</h2><p>1、由于通过命令<code>react-native init</code>初始化的<strong>React Native</strong>（以下简称RN）项目结构与原生项目有区别，所以不能单纯直接在已有项目的根目录下运行该命令。</p>
<p>2、RN需要Android4.1或以上的环境，故集成RN的Android项目的<code>minSdkVersion</code>需设置为<strong>API16</strong>或以上。</p>
<p>3、本机安装NPM支持：<br>新版的RN依赖都将发布在<strong>NPM</strong>（包管理工具，如同Maven仓库）中，故需安装NPM。</p>
<p>4、本文安装环境为<strong>MAC</strong>，Windows或Linux上的命令差异请参考<a target="_blank" rel="noopener" href="http://facebook.github.io/react-native/docs/getting-started.html">官方文档</a>。</p>
<h2 id="集成步骤"><a href="#集成步骤" class="headerlink" title="集成步骤"></a>集成步骤</h2><h3 id="1-安装NPM"><a href="#1-安装NPM" class="headerlink" title="1. 安装NPM"></a>1. 安装NPM</h3><p>之后于同时需要NodeJS服务器，故只需安装NodeJS，NPM会随同安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br><span class="line">brew install watchman</span><br></pre></td></tr></table></figure>

<h3 id="2-添加NPM依赖"><a href="#2-添加NPM依赖" class="headerlink" title="2. 添加NPM依赖"></a>2. 添加NPM依赖</h3><p>进入Android项目根目录，新建文件<code>package.json</code>，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;react-native-module&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;node node_modules/react-native/local-cli/cli.js start&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;15.3.2&quot;,</span><br><span class="line">    &quot;react-native&quot;: &quot;0.34.1&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之后拉取NPM组件，在<code>package.json</code>同目录位置下运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>完成后将出现<code>node_modules</code>文件夹。</p>
<h3 id="3-添加页面文件"><a href="#3-添加页面文件" class="headerlink" title="3.添加页面文件"></a>3.添加页面文件</h3><p>在根目录下，新建文件<code>index.android.js</code>，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#x27;react&#x27;;</span><br><span class="line">import &#123;</span><br><span class="line">  AppRegistry,</span><br><span class="line">  StyleSheet,</span><br><span class="line">  Text,</span><br><span class="line">  View</span><br><span class="line">&#125; from &#x27;react-native&#x27;;</span><br><span class="line"></span><br><span class="line">class RN_Demo extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">        &lt;Text style=&#123;styles.welcome&#125;&gt;</span><br><span class="line">          Welcome to React Native!</span><br><span class="line">        &lt;/Text&gt;</span><br><span class="line">        &lt;Text style=&#123;styles.instructions&#125;&gt;</span><br><span class="line">          To get started, edit index.android.js</span><br><span class="line">        &lt;/Text&gt;</span><br><span class="line">        &lt;Text style=&#123;styles.instructions&#125;&gt;</span><br><span class="line">          Double tap R on your keyboard to reload,&#123;&#x27;\n&#x27;&#125;</span><br><span class="line">          Shake or press menu button for dev menu</span><br><span class="line">        &lt;/Text&gt;</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">  container: &#123;</span><br><span class="line">    flex: 1,</span><br><span class="line">    justifyContent: &#x27;center&#x27;,</span><br><span class="line">    alignItems: &#x27;center&#x27;,</span><br><span class="line">    backgroundColor: &#x27;#F5FCFF&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  welcome: &#123;</span><br><span class="line">    fontSize: 20,</span><br><span class="line">    textAlign: &#x27;center&#x27;,</span><br><span class="line">    margin: 10,</span><br><span class="line">  &#125;,</span><br><span class="line">  instructions: &#123;</span><br><span class="line">    textAlign: &#x27;center&#x27;,</span><br><span class="line">    color: &#x27;#333333&#x27;,</span><br><span class="line">    marginBottom: 5,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&#x27;RN_Demo&#x27;, () =&gt; RN_Demo);</span><br></pre></td></tr></table></figure>

<p>记住上面的组件名<strong>RN_Demo</strong>。</p>
<h3 id="4-添加RN依赖"><a href="#4-添加RN依赖" class="headerlink" title="4.添加RN依赖"></a>4.添加RN依赖</h3><p>编辑<code>app</code>目录下的<code>build.gradle</code>，添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#x27;com.facebook.react:react-native:0.34.1&#x27;  // From node_modules</span><br></pre></td></tr></table></figure>

<p>之所以此处不根据官方文档的配置（compile ‘com.facebook.react:react-native:+’），你会发现通过<strong>Gradle Sync</strong>进行同步后会报错，所以需要在项目下的<code>build.gradle</code>中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">        maven &#123;</span><br><span class="line">            // All of React Native (JS, Android binaries) is installed from npm</span><br><span class="line">            url &quot;$projectDir/../node_modules/react-native/android&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>否则未写明版本的RN依赖可能是<strong>jcenter</strong>中的旧版本。</p>
<h3 id="5-新建Activity与Application"><a href="#5-新建Activity与Application" class="headerlink" title="5.新建Activity与Application"></a>5.新建Activity与Application</h3><p>新建一个继承自<code>ReactActivity</code>的<code>activity</code>，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import com.facebook.react.ReactActivity;</span><br><span class="line"></span><br><span class="line">public class MainActivity extends ReactActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected String getMainComponentName() &#123;</span><br><span class="line">        return &quot;RN_Demo&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意此处实现的<code>getMainComponentName</code>方法返回的字符串与<code>index.android.js</code>中注册的<code>Component</code>名的要一致。</p>
<p>之后编辑自定义<code>Application</code>，实现<code>ReactApplication</code>接口，内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class MainApplication extends Application implements ReactApplication &#123;</span><br><span class="line"></span><br><span class="line">    private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) &#123;</span><br><span class="line">        @Override</span><br><span class="line">        // 表示是否启用开发者模式</span><br><span class="line">        protected boolean getUseDeveloperSupport() &#123;</span><br><span class="line">            return BuildConfig.DEBUG;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        // 模块列表，可添加原生Java模块</span><br><span class="line">        protected List&lt;ReactPackage&gt; getPackages() &#123;</span><br><span class="line">            return Arrays.&lt;ReactPackage&gt;asList(</span><br><span class="line">                    new MainReactPackage()</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public ReactNativeHost getReactNativeHost() &#123;</span><br><span class="line">        return mReactNativeHost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-编辑AndroidManifest-xml"><a href="#6-编辑AndroidManifest-xml" class="headerlink" title="6.编辑AndroidManifest.xml"></a>6.编辑<code>AndroidManifest.xml</code></h3><p>添加应用的网络访问权限，以及刚刚新建的<code>Activity</code>及<code>Application</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    package=&quot;com.doslin.rndemo&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;application</span><br><span class="line">        android:name=&quot;.MainApplication&quot;</span><br><span class="line">        android:allowBackup=&quot;true&quot;</span><br><span class="line">        android:icon=&quot;@mipmap/ic_launcher&quot;</span><br><span class="line">        android:label=&quot;@string/app_name&quot;</span><br><span class="line">        android:supportsRtl=&quot;false&quot;</span><br><span class="line">        android:theme=&quot;@style/AppTheme&quot;&gt;</span><br><span class="line">        &lt;activity android:name=&quot;.MainActivity&quot;&gt;</span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;</span><br><span class="line"></span><br><span class="line">                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line"></span><br><span class="line">        &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; /&gt;</span><br><span class="line">    &lt;/application&gt;</span><br><span class="line"></span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure>

<h3 id="7-添加NDK支持"><a href="#7-添加NDK支持" class="headerlink" title="7.添加NDK支持"></a>7.添加NDK支持</h3><p>在<code>gradle.properties</code>中添加如下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android.useDeprecatedNdk=true</span><br></pre></td></tr></table></figure>

<p>在<strong>app</strong>下的<code>build.gradle</code>中添加如下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ndk &#123;</span><br><span class="line">    abiFilters &#x27;armeabi&#x27;, &#x27;armeabi-v7a&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你的app需要在x86下运行，请额外进行配置<code>x86</code>。</p>
<h3 id="8-启动Packager-Server"><a href="#8-启动Packager-Server" class="headerlink" title="8.启动Packager Server"></a>8.启动<strong>Packager Server</strong></h3><p>在<code>package.json</code>同级目录下运行<br><code>react-native start</code><br>之后为了防止出现<code>error “Could not get BatchedBridge, make sure your bundle is packaged properly” on start of app</code>的异常，先运行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl &quot;http://localhost:8081/index.android.bundle?platform=android&quot; -o &quot;./app/src/main/assets/index.android.bundle&quot;</span><br></pre></td></tr></table></figure>

<p>将在<strong>assets</strong>目录下下载一份<code>index.android.bundle</code>文件。</p>
<p>如果你是用的手机而非模拟器测试，还需要运行如下命令设置反向代理：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb reverse tcp:8081 tcp:8081</span><br></pre></td></tr></table></figure>

<p>最后执行<strong>AS</strong>的绿色<strong>RUN</strong>按钮等待<strong>apk</strong>上传并运行。<br>在主界面摇晃手机会出现调试界面，注意开启<strong>显示悬浮窗</strong>权限。</p>
<hr>
<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>[1] <a target="_blank" rel="noopener" href="http://facebook.github.io/react-native/docs/native-components-android.html">http://facebook.github.io/react-native/docs/native-components-android.html</a></p>
<p>[2] <a target="_blank" rel="noopener" href="http://gold.xitu.io/entry/57a0d03ed342d300572e9ffc">http://gold.xitu.io/entry/57a0d03ed342d300572e9ffc</a></p>
<p>[3] <a target="_blank" rel="noopener" href="http://www.imbeta.cn/react-native-for-android-huan-jing-da-jian-ji-cai-keng.html">http://www.imbeta.cn/react-native-for-android-huan-jing-da-jian-ji-cai-keng.html</a></p>
<p>[4] <a target="_blank" rel="noopener" href="http://acgtofe.com/posts/2016/06/react-native-embedding-android">http://acgtofe.com/posts/2016/06/react-native-embedding-android</a></p>
<p>[5] <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/38870710/error-could-not-get-batchedbridge-make-sure-your-bundle-is-packaged-properly">http://stackoverflow.com/questions/38870710/error-could-not-get-batchedbridge-make-sure-your-bundle-is-packaged-properly</a></p>
<h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><p>1.<a target="_blank" rel="noopener" href="https://github.com/reactnativecn/react-native-guide">React-Native学习指南</a></p>
<p>2.<a target="_blank" rel="noopener" href="https://github.com/xujinyang/react-native-android-guide#react-native-android-guide">react-native-android-guide</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2015/03/23/clone-in-desktop-fails-on-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/23/clone-in-desktop-fails-on-github/" class="post-title-link" itemprop="url">解决Clone in Desktop失败的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-23 09:37:15" itemprop="dateCreated datePublished" datetime="2015-03-23T09:37:15+08:00">2015-03-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/github/" itemprop="url" rel="index"><span itemprop="name">github</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>有时候会出现github客户端在Mac下点击<code>Clone in Desktop</code>时会带你去GitHub客户端的下载页面。</p>
<p>根据官方写明的<a target="_blank" rel="noopener" href="https://help.github.com/articles/github-conduit/">调用原理</a>，只要确保<br>在浏览器中访问<a target="_blank" rel="noopener" href="https://ghconduit.com:25035/status">https://ghconduit.com:25035/status</a>能正常返回<br><code>&#123;&quot;capabilities&quot;:[&quot;status&quot;,&quot;unique_id&quot;,&quot;url-parameter-filepath&quot;],&quot;running&quot;:false,&quot;server_version&quot;:&quot;5&quot;&#125;</code><br>类似的信息即可。</p>
<p>如果访问失败，可以通过以下几种形式定位问题：</p>
<ul>
<li>进程清单中是否有<code>Github Conduit</code>；</li>
<li>浏览器是否开了代理；</li>
<li>尝试在<code>/etc/hosts</code>中加入<code>127.0.0.1 ghconduit.com</code>后重新访问。</li>
</ul>
<p>当链接正常时刷新页面重新点击<code>Clone</code>就能生效了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2014/03/11/learn-regular-expressions-in-about-55-minutes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2014/03/11/learn-regular-expressions-in-about-55-minutes/" class="post-title-link" itemprop="url">55分钟学会正则表达式(译)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-03-11 14:30:40" itemprop="dateCreated datePublished" datetime="2014-03-11T14:30:40+08:00">2014-03-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/regular-expressions/" itemprop="url" rel="index"><span itemprop="name">regular expressions</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <link href="../assets/css/regular-code.css" type="text/css" rel="stylesheet"></link>

<script type="text/javascript">
    // For flipping between displayed things
    var toggle = function (id) {
        var e = document.getElementById(id);
        e.style.display = e.style.display === "none" ? "" : "none";
    };
</script>

<p><a target="_blank" rel="noopener" href="http://qntm.org/files/re/re.html">原文地址-Sam Hughes</a></p>
<p>翻译水平有限，如有谬误，欢迎评论斧正或者<a target="_blank" rel="noopener" href="https://github.com/JChord/jchord.github.io">Pull Request</a>。</p>
<p>正则表达式（“regexes”）即<strong>增强查找&#x2F;字符串替换操作</strong>。当在文本编辑器中编辑文字时，正则表达式经常用于：</p>
<ul>
<li>检查文本是否包含一个给定的模式</li>
<li>查找任何匹配的模式</li>
<li>从文本中拉取信息（比如截断）</li>
<li>修改文本</li>
</ul>
<p>和文本编辑器一样，绝大多数高级编程语言支持正则表达式。在本文中，“文本”仅仅是一个字符串变量，但是有效的操作却是一致的。某些编程语言（Perl，JavaScript）甚至为正则表达式提供专用的语法。</p>
<p><strong>但是正则表达式是什么？</strong></p>
<p>一个正则表达式仅仅为一个字符串。它没有长度限制，但是通常该字符串很短。下面看几个例子：</p>
<ul>
<li><code>I had a \S+ day today</code></li>
<li><code>[A-Za-z0-9\-_]&#123;3,16&#125;</code></li>
<li><code>\d\d\d\d-\d\d-\d\d</code></li>
<li><code>v(\d+)(\.\d+)*</code></li>
<li><code>TotalMessages=&quot;(.*?)&quot;</code></li>
<li><code>&lt;[^&lt;&gt;]&gt;</code></li>
</ul>
<p>这个字符串实际上是一个极小的计算程序，并且正则表达式是一门语法小而简洁，<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Domain-specific_language"><em>领域特定的编程语言</em></a>。牢记以下几点，它们不该在学习过程中让你感到惊讶：</p>
<ul>
<li>每个正则表达式都能分解成一串<em>指令</em>。“找到这个，再找到那个，然后找到其中一个…”</li>
<li>一个正则表达式拥有<em>输入</em>（文本）和<em>输出</em>（模式匹配，和有些时候的自定义文本）。</li>
<li>存在语法错误——不是每个字符串都是合法的正则表达式！</li>
<li>语法有些怪异，也可以说是恐怖。</li>
<li>一个正则表达式有时候可以被<em>编译</em>以便更快运行。</li>
</ul>
<p>正则实现一直有着显著的改变。对于本文，我所关注的是那些几乎每个正则表达式都实现了的核心语法。  </p>
<div class="exercise">
<h4>练习</h4>
<p>获取一个支持正则的文本编辑器。我推荐<a target="_blank" rel="noopener" href="http://notepad-plus-plus.org/">Notepad++</a>。</p>
<p>下载一篇很长的散文故事比如<a target="_blank" rel="noopener" href="http://www.gutenberg.org/cache/epub/35/pg35.txt">Gutenberg出版社出版的H. G. Wells的<i>《时光机器》</i></a>然后打开它。</p>
<p>下载一部字典，比如<a href="../assets/file/learn-regular-expressions-in-about-55-minutes/words.zip">这个</a>，解压然后打开。</p>
<p>一切准备就绪，稍后开始练习。</p>
</div>

<div class="warning">
<p><strong>提示：</strong> 正则表达式与<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Glob_%28programming%29">文件通配符</a>语法完全不兼容，比如<code>*.xml</code>。</p>
</div>


<p>##正则表达式基础语法</p>
<p>###字面值(Literals)</p>
<p>正则表达式由只代表自身的<em>字面值</em>和代表特定含义的<em>元字符</em>组成。</p>
<p>这里也有一些例子。我会对元字符进行高亮。</p>
<ul>
<li><code>I had a <em>\S+</em> day today</code></li>
<li><code><em>[A-Za-z0-9-_]&#123;3,16&#125;</em></code></li>
<li><code><em>\d\d\d\d</em>-<em>\d\d</em>-<em>\d\d</em></code></li>
<li><code>v<em>(\d+)(.\d+)*</em></code></li>
<li><code>TotalMessages="<em>(.*?)</em>"</code></li>
<li><code>&lt;<em>[^&lt;&gt;]*</em>&gt;</code></li>
</ul>
<p>大部分字符，包括字母数字字符，会以字面值的形式出现。这意味着它们查找的是自身。比如，正则表达式<code>cat</code>代表“先找到<code>c</code>，接着找到<code>a</code>，最后找到<code>t</code>”。</p>
<p>目前为止感觉良好。这的确很像</p>
<ul>
<li>一个普通的查找对话框</li>
<li>Java中的<code>String.indexOf()</code>函数</li>
<li>PHP中的<code>strpos()</code>函数</li>
<li>等等</li>
</ul>
<p>提示：除非特别说明，正则表达式是区分大小写的。然而，绝大多数实现都会提供一个<em>标记</em>来开启不区分大小写的功能。</p>
<p>###句点（dot）</p>
<p>我们第一个元字符是句号（译者注：句点，英文句号），<code>.</code>。一个<code>.</code>表示匹配任何单个字符。下面这个正则表达式<code>c.t</code>代表“先找到<code>c</code>，接着找到任何单个字符，再找到<code>t</code>”。</p>
<p>在一段文本中，这个表达式将会找到<code>cat</code>，<code>cot</code>，<code>czt</code>，甚至字面值为<code>c.t</code>的字符串（<code>c</code>，句点，<code>t</code>），但是不包括<code>ct</code>或者<code>coot</code>。</p>
<p>在正则表达式里，空格是有效的。正则表达式 ‘c t’ 代表”先找到 ‘c’，接着找到空格，再找到 ‘t’“。</p>
<p>任何元字符如果用一个反斜杆<code>\</code>进行转义就会变成字面值。所以上述的正则表达式<code>c\.t</code>就代表“先找到<code>c</code>，接着找到句号，再找到<code>t</code>”。</p>
<p>反斜杠是一个元字符，这意味着它也可以使用反斜杠转义。所以正则表达式<code>c\\t</code>代表“先找到<code>c</code>，接着找到反斜杆，再找到<code>t</code>”。</p>
<div class="warning">
<p><strong>注意！</strong> 在一些实现中，<code>.</code> 会匹配除了 <em>换行符</em> 的任意字符。这意味着“换行符”在不同的实现中也会变化。 要查看你的文档。在这篇文章中， 我会确保<code>.</code> 会匹配任意字符。</p>
<p>在其它情况下， 通常会有一个标记来调整这种行为，那就是`DOTALL`或类似的标记</p>
</div>

<div class="exercise">
<h4>练习</h4>
<p>使用你目前所学，在字典中使用正则表达式，匹配一个有两个<code>z</code>的单词，其中这两个<code>z</code>离得越远越好。</p>
<h4><button onclick="toggle('a1');">答案</button></h4>
<p id="a1" style="display: none;">你最终的正则表达式应该是<code>z.......z</code>会匹配到四个单词: <code>razzamatazz</code>，<code>razzamatazzes</code>，<code>zwischenzug</code>以及<code>zwischenzugs</code>。</p>
</div>

<div class="exercise">
<h4>练习</h4>
<p>在<i>《时光机器》</i>这本书中，使用正则表达式来查找以介词收尾的句子。</p>
<h4><button onclick="toggle('a2');">答案</button></h4>
<p id="a2" style="display: none;">你的正则表达式应该类似这样<code>up\.</code>。</p>
</div>

<p>###字符类（Character classes）</p>
<p>字符类是字符在方括号中的集合。表示“找到集合里任意一个字符”。</p>
<ul>
<li>正则表达式<code>c[aeiou]t</code>表示“找到<code>c</code>后跟一个元音字母，再找到<code>t</code>”。在一段文本中，将会匹配到<code>cat</code>，<code>cet</code>，<code>cit</code>，<code>cot</code>和<code>cut</code>。</li>
<li>正则表达式<code>[0123456789]</code>表示找到一个数字</li>
<li>正则表达式<code>[a]</code>和<code>a</code>意义相同：“找到<code>a</code>”</li>
</ul>
<p>一些转义的例子：</p>
<ul>
<li><code>\[a\]</code>表示“找到一个左方括号紧跟着一个<code>a</code>，再跟着一个右方括号”。</li>
<li><code>[\[\]ab]</code>表示“匹配一个左方括号或者右方括号或者<code>a</code>或者	<code>b</code>”。</li>
<li><code>[\\\[\]]</code>表示“匹配一个反斜杆或者一个左方括号或者一个右方括号”。（呕！）</li>
</ul>
<p>在字符类中顺序和重复字符并不重要。<code>[dabaaabcc]</code>跟<code>[abcd]</code>一样。</p>
<div class="warning">
<h4>重要的提示</h4>
<p>在字符类内部的“规则”和在字符类内部的规则有所不同。一些字符在字符类内部扮演着元字符的角色，但在字符类外部则充当字面值。还有一些字符做着相反的事。一些字符在<em>两种情形</em>都为元字符，但在各自情形里代表不同的含义。
</p>
<p>特别地, <code>.</code>表示“匹配任意字符”，但是<code>[.]</code>表示“匹配句点”。不能并为一谈。</p>
</div>

<div class="exercise">
<h4>练习</h4>
<p>结合目前所学，在字典中，使用正则表达式查找有连续的元音和连续的辅音的单词。</p>
<h4><button onclick="toggle('a3');">答案</button></h4>
<p id="a3" style="display: none;"><code>[aeiou][aeiou][aeiou][aeiou][aeiou][aeiou]</code>匹配到六元音单词<code>euouae</code> and <code>euouaes</code>，而可怕的<code>[bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz]</code>找到了有十个辅音的华丽的<code>sulphhydryls</code>。我们将会很快看到如何简化这些恐怖的表达式。</p>
</div>

<p>###字符类区间（ranges）</p>
<p>你可以在字符类中使用连字符来表示一个字母或数字的<em>区间</em>：</p>
<ul>
<li><code>[b-f]</code>和<code>[bcdef]</code>都表示“找到一个<code>b</code>或<code>c</code>或<code>d</code>或	<code>e</code>或<code>f</code>”。</li>
<li><code>[A-Z]</code>和<code>[ABCDEFGHIJKLMNOPQRSTUVWXYZ]</code>都表示“匹配大写字母”。</li>
<li><code>[1-9]</code>和<code>[123456789]</code>都表示“匹配一个非零数字”。</li>
</ul>
<p>连字符在字符类外部使用时并没有特别都含义。正则表达式<code>a-z</code>表示“找到一个<code>a</code>接着跟着一个连字符，然后匹配一个<code>z</code>”。</p>
<p>区间和单独的字符可能会共存于同一个字符类：</p>
<ul>
<li><code>[0-9.,]</code>表示“匹配一个数字或者一个句点或者一个逗号”。</li>
<li><code>[0-9a-fA-F]</code>表示“匹配一位十六进制数”。</li>
<li><code>[a-zA-Z0-9\-]</code>表示“匹配一个字母数字字符或连字符”。</li>
</ul>
<p>虽然你可以<em>尝试</em>在区间内以非字母数字字符结束（比如<code>abc[!-/]def</code>），但这在其它实现中的语法不一定对。即使语法正确，但在这个区间内很难看出包含了哪个字符。请谨慎使用（我的意思是不要这么干）。</p>
<p>同样的，区间端点的范围应该一致。即使像<code>[A-z]</code>这种表达式在你选择的实现中合法，但结果可能不如你愿。（补充：可以有<code>Z</code>到<code>a</code>的区间范围）。</p>
<div class="warning">
<p><strong>注意。</strong> 区间是字符的区间，不是数字的区间。正则表达式<code>[1-31]</code>表示“找到一个<code>1</code>或一个 <code>2</code>或一个<code>3</code>”，<em>不是</em>“找到一个从<code>1</code>到<code>31</code>的整数"。</p>
</div>

<div class="exercise">
<h4>练习</h4>
<p>使用目前学习，编写一个查找以YYYY-MM-DD为格式的日期的正则表达式。</p>
<h4><button onclick="toggle('a4');">答案</button></h4>
<p id="a4" style="display: none;">目前我们能写出来的是<code>[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]</code>。同样地，我们将能够很快简化这个式子。</p>
</div>

<p>###字符类的否定（negation）</p>
<p>你可以通过在最开始的位置使用插入符号（译者注：<code>^</code>）来<em>否定</em>一个字符类。</p>
<ul>
<li><code>[^a]</code>表示“匹配除了<code>a</code>的任意字符”。</li>
<li><code>[^a-zA-Z0-9]</code>表示“找到一个非字母也非数字的字符”。</li>
<li><code>[\^abc]</code>表示“找到一个插入符或者<code>a</code>或者<code>b</code>或者<code>c</code>”。</li>
<li><code>[^\^]</code>表示“找到除了插入符外的任意字符”。（呕！）</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>在字典中，使用正则表达式去找到这个规则的反例“<code>i</code>位于<code>e</code> 前面并且不出现在<code>c</code>的后面”。</p>
<h4><button onclick="toggle('a5');">答案</button></h4>
<p id="a5" style="display: none;"><code>cie</code>和<code>[^c]ei</code>都会找到很多的反例，比如<code>ancient</code>，<code>science</code>，<code>veil</code>，<code>weigh</code>。</p>
</div>

<p>###字符类补充</p>
<p>正则表达式<code>\d</code>含义与<code>[0-9]</code>一致：“匹配一个数字”。（为了匹配一个反斜杆后跟一个<code>d</code>，可以使用<code>\\d</code>。）</p>
<p><code>\w</code>的含义与<code>[0-9A-Za-z_]</code>一致：“匹配一个单词字符（译者注：字母或数字或下划线或汉字）”。</p>
<p><code>\s</code>表示“匹配任意空白字符（空格，tab，回车或者换行）”。</p>
<p>此外，</p>
<ul>
<li><code>\D</code>同<code>[^0-9]</code>：“匹配任意非数字的字符”。</li>
<li><code>\W</code>同<code>[^0-9A-Za-z_]</code>：“匹配任意非单词字符（译者注：匹配任意不是字母，数字，下划线，汉字的字符）”。</li>
<li><code>\S</code>表示“匹配任意不是空白符的字符”。</li>
</ul>
<p>这些字符类都很常见，你必须学会。</p>
<p>你可能也注意到了，句点<code>.</code>本质上是<em>一个包含任意字符的字符类</em>。</p>
<p>许多实现提供了很多额外的字符类或标记，它们通过扩展现有的字符类来覆盖ASCII之外范围的字符。提示：Unicode包含更多的“数字字符”而不仅仅是<code>0</code>到<code>9</code>，这一点同样对于“单词”和“空格”也适用。注意你的文档所写。</p>
<div class="exercise">
<h4>练习</h4>
<p>简化正则表达式<code>[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]</code>。</p>
<h4><button onclick="toggle('a6');">答案</button></h4>
<p id="a6" style="display: none;"><code>\d\d\d\d-\d\d-\d\d</code>.</p>
</div>

<p>###乘法器（Multipliers）</p>
<p>你可以在一个字面值或者字符类后跟着一个大括号来使用<em>乘法器</em>。</p>
<ul>
<li>正则表达式<code>a&#123;1&#125;</code>同<code>a</code>，表示“匹配一个<code>a</code>”。</li>
<li><code>a&#123;3&#125;</code>表示“找到一个<code>a</code>后再跟一个<code>a</code>，最后找到一个<code>a</code>”。</li>
<li><code>a&#123;0&#125;</code>表示“匹配空字符”。就其本身而言，这似乎没有用处。如果你在任何一段文本中使用该表达式，你会在你刚开始搜索的端点处立即得到一个匹配。即使你的文本为空字符串结果也为真。</li>
<li><code>a\&#123;2\&#125;</code>代表“找到一个<code>a</code>，跟着一个左大括号，接着跟匹配一个<code>2</code>，然后跟着一个右大括号”。</li>
<li>在字符类中大括号没有特别的含义。<code>[&#123;&#125;]</code>代表“匹配一个左大括号或者一个右大括号”。</li>
</ul>
<div class="warning">
<p><strong>注意。</strong> 乘法器没有记忆。该正则表达式<code>[abc]&#123;2&#125;</code>表示“匹配<code>a</code>或者<code>b</code>或者<code>c</code>，接着匹配<code>a</code>或者<code>b</code>或者<code>c</code>。这跟“匹配<code>aa</code>或<code>ab</code>或<code>ac</code>或<code>ba</code>或<code>bb</code>或<code>bc</code>或<code>ca</code>或<code>cb</code>或<code>cc</code>”相同。这跟“匹配<code>aa</code>或<code>bb</code>或<code>cc</code>”含义<em>不同</em>！
</div>

<div class="exercise">
<h4>练习</h4>
<p>简化以下正则表达式：</p>
<ul>
    <li><code>z.......z</code></li>
    <li><code>\d\d\d\d-\d\d-\d\d</code></li>
    <li><code>[aeiou][aeiou][aeiou][aeiou][aeiou][aeiou]</code></li>
    <li><code>[bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz][bcdfghjklmnpqrstvwxyz]</code></li>
</ul>
<h4><button onclick="toggle('a6A');">答案</button></h4>
<ul id="a6A" style="display: none;">
    <li><code>z.&#123;7&#125;z</code></li>
    <li><code>\d&#123;4&#125;-\d&#123;2&#125;-\d&#123;2&#125;</code></li>
    <li><code>[aeiou]&#123;6&#125;</code></li>
    <li><code>[bcdfghjklmnpqrstvwxyz]&#123;10&#125;</code></li>
</ul>
</div>

<p>###乘法器区间</p>
<p>乘法器可能会有<em>区间</em>：</p>
<ul>
<li><code>x&#123;4,4&#125;</code>跟<code>x&#123;4&#125;</code>一样。</li>
<li><code>colou&#123;0,1&#125;r</code>表示“匹配<code>colour</code>或<code>color</code>。</li>
<li><code>a&#123;3,5&#125;</code>表示“匹配<code>aaaaa</code>或<code>aaaa</code>或<code>aaa</code>”。</li>
</ul>
<p>值得注意的是优先选择更长的匹配，因为乘法器是<em>贪婪</em>的。如果你输入的文本是<code>I had an aaaaawful day</code>，该正则表达式就会在<code>aaaaawful</code>中匹配到<code>aaaaa</code>。不会在第三个<code>a</code>后就停止匹配。</p>
<p>乘法器是贪婪的，但它不会忽略一个更好的匹配。如果你的输入文本为<code>I had an aaawful daaaaay</code>，之后这个正则表达式会在第一次的匹配中于<code>aaawful</code>找到<code>aaa</code>。只有在你说“给我找到另一个匹配”的时候，它才会继续搜索然后在<code>daaaaay</code>中找到<code>aaaaa</code>。</p>
<p>乘法器区间可能是开区间：</p>
<ul>
<li><code>a&#123;1,&#125;</code>表示“在一列中找到一个或多个a”。然而你的乘法器将会是贪婪的。在找到第一个<code>a</code>后，它将会尽可能匹配到更多的<code>a</code>。</li>
<li><code>.&#123;0,&#125;</code>表示“匹配任何情形”。不管你的输入文本是什么——甚至为空——这个正则表达式都会匹配整个字符串然后返回给你。</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>编写一个能匹配双引号字符串的正则表达式。同时该字符串可以拥有任意数量的字符。</p>
<p>用你已经学到的之时，修改上面的正则表达式，来找到了双引号字符串，但它们之间没有多余的双引号。</p>
<h4><button onclick="toggle('a7');">答案</button></h4>
<p id="a7" style="display: none;"><code>".&#123;0,&#125;"</code>，然后是<code>"[^"]&#123;0,&#125;"</code>。</p>
</div>

<p>###乘法器补充</p>
<p><code>?</code>代表的含义与<code>&#123;0,1&#125;</code>相同。比如说，<code>colou?r</code>表示“匹配<code>colour</code>或<code>color</code>”。</p>
<p><code>*</code>等于<code>&#123;0,&#125;</code>。比如说，<code>.*</code>表示“匹配一切”，跟上面提到的一样。</p>
<p><code>+</code>等于<code>&#123;1,&#125;</code>。比如说，<code>\w+</code>表示“匹配一个单词”。这里的“单词”是1个或多个“单词字符”的序列，就像<code>_var</code>或<code>AccountName1</code>。</p>
<p>这些乘法器都很常见，你必须掌握。还有：</p>
<ul>
<li><code>\?\*\+</code>表示“匹配一个问号，接着找到一个星号，然后跟着一个加号”。</li>
<li><code>[?*+]</code>表示“找到一个问号或者一个星号或者一个加号”。</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>简化下面的正则表达式：</p>
<ul>
    <li><code>".&#123;0,&#125;"</code>和<code>"[^"]&#123;0,&#125;"</code></li>
    <li><code>x?x?x?</code></li>
    <li><code>y*y*</code></li>
    <li><code>z+z+z+z+</code></li>
</ul>
<h4><button onclick="toggle('a8');">答案</button></h4>
<ul id="a8" style="display: none;">
    <li><code>".*"</code>和<code>"[^"]*"</code></li>
    <li><code>x&#123;0,3&#125;</code></li>
    <li><code>y*</code></li>
    <li><code>z&#123;4,&#125;</code></li>
</ul>
</div>

<div class="exercise">
<h4>练习</h4>
<p>编写一个表达式来查找非单词字符分隔的两个单词。如果改为三个单词或者六个单词又该怎么写？</p>
<h4><button onclick="toggle('a9');">答案</button></h4>
<p id="a9" style="display: none;"><code>\w+\W+\w+</code>，<code>\w+\W+\w+\W+\w+</code>，<code>\w+\W+\w+\W+\w+\W+\w+\W+\w+\W+\w+</code>。当然，我们之后会学习如何简化它们。</p>
</div>

<p>###惰性（Non-greed）</p>
<p>正则表达式<code>&quot;.*&quot;</code>表示“找到一个双引号，接着找到尽可能多的字符，最后再找到一个双引号”。注意一下被<code>.*</code>匹配的内部字符，很可能包含多个双引号。这通常不是非常有用。</p>
<p>乘法器可通过追加问号来实现<em>惰性</em>。这里对优先顺序进行了反转：</p>
<ul>
<li><code>\d&#123;4,5&#125;?</code>表示“匹配<code>\d\d\d\d</code>或<code>\d\d\d\d\d</code>”。其实跟<code>\d&#123;4&#125;</code>行为一致。</li>
<li><code>colou??r</code>就是<code>colou&#123;0,1&#125;?r</code>，表示“找到<code>color</code>或<code>colour</code>”。和<code>colou?r</code>行为一致。</li>
<li><code>&quot;.*?&quot;</code>表示“匹配一个双引号，跟着一个<em>尽可能少</em>的字符，再跟着一个双引号”。这个不像上面两个例子，实际上很有用。</li>
</ul>
<p>###分支（Alternation）</p>
<p>你可以使用管道符号来实现匹配多种选择：</p>
<ul>
<li><code>cat|dog</code>表示“匹配<code>cat</code>或<code>dog</code>”。</li>
<li><code>red|blue|</code>和<code>red||blue</code>以及<code>|red|blue</code>都是同样的意思，“匹配<code>red</code>或<code>blue</code>或空字符串”。</li>
<li><code>a|b|c</code>跟<code>[abc]</code>一样。</li>
<li><code>cat|dog|\|</code>表示“匹配<code>cat</code>或<code>dog</code>或<code>管道符号</code>”。</li>
<li><code>[cat|dog]</code>表示“找到<code>a</code>或<code>c</code>或<code>d</code>或<code>d</code>或<code>g</code>或<code>o</code>或<code>t</code>或一个管道符号”。</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>尽你所能简化下述正则表达式：</p>
<ul>
    <li><code>s|t|u|v|w</code></li>
    <li><code>aa|ab|ba|bb</code></li>
    <li><code>[abc]|[^abc]</code></li>
    <li><code>[^ab]|[^bc]</code></li>
    <li><code>[ab][ab][ab]?[ab]?</code></li>
</ul>
<h4><button onclick="toggle('a10');">答案</button></h4>
<ul id="a10" style="display: none;">
    <li><code>[s-w]</code></li>
    <li><code>[ab]&#123;2&#125;</code></li>
    <li><code>.</code></li>
    <li><code>[^b]</code></li>
    <li><code>[ab]&#123;2,4&#125;</code></li>
</ul>
</div>

<div class="exercise">
<h4>练习</h4>
<p>编写一个正则表达式匹配1到31（含）之间的整数。 记住，<code>[1-31]</code>不是正确答案。</p>
<h4><button onclick="toggle('a11');">答案</button></h4>
<p id="a11" style="display: none;">有几种方法都可以做到这一点。我认为其中<code>[1-9]|[12][0-9]|3[01]</code>可读性最好。</p>
</div>


<p>###组合（Grouping）</p>
<p>你可以使用圆括号来<em>组合</em>表达式：</p>
<ul>
<li>在一周中找到一天，使用<code>(Mon|Tues|Wednes|Thurs|Fri|Satur|Sun)day</code>。</li>
<li><code>(\w*)ility</code>等同于<code>\w*ility</code>。都表示“找到以<code>ility</code>结尾的单词”。为什么第一种形式更有用，后面会看到…</li>
<li><code>\(\)</code>表示“匹配一个左圆括号后，再匹配一个右圆括号”。</li>
<li><code>[()]</code>表示“匹配一个左圆括号或一个右圆括号”。</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>在<i>《时光机器》</i>这本书中，使用正则表达式来查找包裹在括号中的句子。接着，修改你的答案来查找外部被括号包裹但内部没有括号的句子。</p>
<h4><button onclick="toggle('a12');">答案</button></h4>
<p id="a12" style="display: none;"><code>\(.*\)</code>，然后是<code>\([^()]*\)</code>。</p>
</div>


<p>组合可能会包含空字符串：</p>
<ul>
<li><code>(red|blue|)</code>表示“匹配<code>red</code>或<code>blue</code>或<code>空字符串</code>”。</li>
<li><code>abc()def</code>等同于<code>abcdef</code></li>
</ul>
<p>可能你会在组合中使用乘法器：</p>
<ul>
<li><code>(red|blue)?</code>等同于<code>(red|blue|)</code>。</li>
<li><code>\w+(\s+\w+)*</code>代表“找到一个或多个单词，它们以空格隔开”。</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>简化<code>\w+\W+\w+\W+\w+</code>和<code>\w+\W+\w+\W+\w+\W+\w+\W+\w+\W+\w+</code>。</p>
<h4><button onclick="toggle('a13');">答案</button></h4>
<p id="a13" style="display: none;"><code>\w+(\W+\w+)&#123;2&#125;</code>，<code>\w+(\W+\w+)&#123;5&#125;</code>。</p>
</div>

<p>###单词边界（Word boundaries）</p>
<p>单词边界是一个单词字符和非单词字符之间的位置。记住，一个单词字符是<code>\w</code>，它是<code>[0-9A-Za-z_]</code>，一个非单词字符是<code>\W</code>，也就是<code>[^0-9A-Za-z_]</code>。</p>
<p>文本的开头和结尾总是当作单词边界。</p>
<p>输入的文本<code>it&#39;s a cat</code>有八个单词边界。如果我们在<code>cat</code>后追加一个空格，这里就会有九个单词边界。</p>
<ul>
<li>正则表达式<code>\b</code>表示“匹配一个单词边界”。</li>
<li><code>\b\w\w\w\b</code>表示“匹配一个三个字母的单词”。</li>
<li><code>a\ba</code>表示“找到<code>a</code>，跟着一个单词边界，接着找到<code>b</code>”。不管输入文本是什么，这个正则表达式永远都不会成功找到一个匹配。</li>
</ul>
<p>单词边界不是字符。它们宽度为零.下面的正则表达式表示相同的含义：</p>
<ul>
<li><code>(\bcat)\b</code></li>
<li><code>(\bcat\b)</code></li>
<li><code>\b(cat)\b</code></li>
<li><code>\b(cat\b)</code></li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>查找字典中最长的单词。</p>
<h4><button onclick="toggle('a14');">答案</button></h4>
<p id="a14" style="display: none;">在一些试验和错误之后，这个正则表达式就是<code>\b.&#123;45,&#125;\b</code>，在字典中找到唯一一个结果： <code>pneumonoultramicroscopicsilicovolcanoconiosis</code>。</p>
</div>


<p>###行边界（Line boundaries）</p>
<p>每一块文本会分解成一个或多个行，用换行符分隔，像这样：</p>
<ul>
<li>行</li>
<li>换行</li>
<li>行</li>
<li>换行</li>
<li>…</li>
<li>换行</li>
<li>行</li>
</ul>
<p>注意文本不是以换行符结束，而是以行结束。然而，任何行，包括最后一行，可以包含零个字符。</p>
<p><em>起始行</em>位置是在一个换行符和下一行的第一个字符之间。与单词边界一样，在文本的开头也算作一个起始的行。</p>
<p><em>结束行</em>位置是在行的最后一个字符和换行符之间。与单词边界一样，文本结束也算作行结束。</p>
<p>所以我们都细分为：</p>
<ul>
<li>起始行，行，结束行</li>
<li>换行</li>
<li>开始行，行，结束行</li>
<li>换行</li>
<li>…</li>
<li>换行</li>
<li>开始行，行，结束行</li>
</ul>
<p>在此基础上，有：</p>
<ul>
<li>正则表达式<code>^</code>表示“匹配开始行”。</li>
<li>正则表达式<code>$</code>表示“匹配结束行”。</li>
<li><code>^$</code>表示“匹配空行”。</li>
<li><code>^.*$</code>将会匹配整个文本，因为换行符是一个字符，所以<code>.</code>会匹配它。为了匹配单行，要使用惰性乘法器，<code>^.*?$</code>。</li>
<li><code>\^\$</code>表示“匹配尖符号后跟着一个美元符号”。</li>
<li><code>[$]</code>表示“匹配一个美元符”。<em>然而</em>，<code>[^]</code>是非法单正则表达式。要记住的是尖符号在方括号中时有<em>不同</em>的特殊含义。把尖符号放在字符类中，这么用<code>[\^]</code>。</li>
</ul>
<p>像单词边界一样，行边界也不是字符。它们宽度为零。下面的正则表达式表示相同的含义：</p>
<ul>
<li><code>(^cat)$</code></li>
<li><code>(^cat$)</code></li>
<li><code>^(cat)$</code></li>
<li><code>^(cat$)</code></li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>适用正则表达式查找<i>《时光机器》</i>中最长的一行。</p>
<h4><button onclick="toggle('a15');">答案</button></h4>
<p id="a15" style="display: none;">Gutenberg出版社的这个版本一行最多有73个字符，使用该<code>^.&#123;73,&#125;$</code>表达式。许多行都是这个长度。</p>
</div>

<p>###文本边界（Text boundaries）</p>
<p>很多实现提供一个标记，通过改变它来改变<code>^</code>和<code>$</code>的含义。从“行开始”和“行结束”变成“文本开始”和“文本结束”。</p>
<p>其它的一些实现提供单独的元字符<code>\A</code>和<code>\z</code>来达到这个目的。</p>
<p>##捕获和替换</p>
<p>这里就是正则表达式开始变得异常强大的地方。</p>
<p>###捕获组</p>
<p>你已经知道，括号是用来表示组。它们也可以用来捕获子串。如果正则表达式是一个很小的电脑程序，这个<em>捕获组</em>就是它的输出（的一部分）。</p>
<p>正则表达式<code>(\w*)ility</code>表示“找到一个以<code>ility</code>结束的单词”。捕获组1就是匹配了部分内容的<code>\w*</code>。举个例子，如果我们的文本包含单词<code>accessibility</code>，捕获组1就是<code>accessib</code>。如果我们的文本自身只包含<code>ility</code>，捕获组1就是空字符串。</p>
<p>你可以拥有多个捕获组，它们甚至可以嵌套使用。捕获组从左到右进行编号。只要计算左圆括号。</p>
<p>假设我们到正则表达式是<code>(\w+) had a ((\w+) \w+)</code>。如果我们的输入文本是<code>I had a nice day</code>，那么</p>
<ul>
<li>捕获组1是<code>I</code>。</li>
<li>捕获组2是<code>nice day</code>。</li>
<li>捕获组3是<code>nice</code>。</li>
</ul>
<p>在一些实现中，你可能可以访问捕获组0，即完整匹配：<code>I had a nice day</code>。</p>
<p>是的，这确实意味着圆括号有些重复。一些实现就提供了一个独立语法来声明“非捕获组”，但是这个语法不符合标准，所以这里我们不涉及。</p>
<div class="warning">
<p>从一个成功返回的匹配中捕获组数量<em>总是</em>等于原来正则表达式中捕获组的数量。记住这一点，因为它可以帮助你理解一些令人困惑的情形。</p>
<p>正则表达式<code>((cat)|dog)</code>表示“匹配<code>cat</code>或<code>dog</code>”。这里<strong>总是存在两组捕获组</strong>。如果我们的输入文本是<code>dog</code>，那么捕获组1是<code>dog</code>，捕获组2是空字符串，因为另一个选择未被使用。</p>
<p>正则表达式<code>a(\w)*</code>表示“匹配一个以<code>a</code>开头的单词”。这里<strong>总是只有一个捕获组（译者注：除去捕获组0）</strong>：</p>
<ul>
    <li>如果输入文本是<code>a</code>，捕获组1是空字符串。</li>
    <li>如果输入文本是<code>ad</code>，捕获组1是<code>d</code>。</li>
    <li>如果输入文本是<code>avocado</code>，捕获组1是<code>v</code>。然而，捕获组0会是整个单词，<code>avocado</code>。</li>
</ul>
</div>


<p>###替换</p>
<p>一旦你用了正则表达式来查找字符串，你可以指定另一个字符串来替换它。第二个字符串时<em>替换表达式</em>。首先，就像：</p>
<ul>
<li>传统的替换对话框</li>
<li>Java的<code>String.replace()</code>函数</li>
<li>PHP的<code>String.replace()</code>函数</li>
<li>等等</li>
</ul>
<div class="exercise">
<h4>练习</h4>
<p>使用<code>r</code>替换<i>《时间机器》</i>中所有的元音字母。确保使用正确的大小写！</p>
<h4><button onclick="toggle('a16');">答案</button></h4>
<p id="a16" style="display: none;">分别使用正则表达式<code>[aeiou]</code>和<code>[AEIOU]</code>，替换表达式<code>r</code>和<code>R</code>。</p>
</div>

<p>然而，你可以在你的替换表达式中引用捕获组。这是你可以在替换表达式唯一能的特殊的事，它是令人难以置信的强大，因为它意味着你不必完全销毁你刚刚发现的东西。</p>
<p>比方说，你尝试去用ISO 8691格式的日期（YYYY-MM-DD）去替换美式日期（MM&#x2F;DD&#x2F;YY）。</p>
<ul>
<li>通过正则表达式<code>(\d\d)/(\d\d)/(\d\d)</code>开始。注意这里有三个捕获组：月，日和两个数字表示的年。</li>
<li>通过使用一个反斜杆和一个捕获组号来引用一个捕获组。所以，你的替换表达式为<code>20\3-\1-\2</code>。</li>
<li>如果我们的输入文本是<code>03/04/05</code>（表示 3月4号，2005年），那么<ul>
<li>捕获组1是<code>03</code></li>
<li>捕获组2是<code>04</code></li>
<li>捕获组3是<code>05</code></li>
<li>替换字符串为<code>2005-03-04</code></li>
</ul>
</li>
</ul>
<p>你可以在替换表达式中多次引用捕获组。</p>
<ul>
<li>使用正则表达式<code>([aeiou])</code>和替换表达式<code>\1\1</code>来让元音翻倍。</li>
</ul>
<p>在替换表达式中的反斜杆必须进行转义。举个例子，你有一些在计算机程序的字面值中使用的文本。那就意味着你需要在普通文本中的每个双引号或者反斜杆前放置一个反斜杆。</p>
<ul>
<li>正则表达式<code>([\\&quot;])</code>中，捕获组1是双引号或者反斜杆。</li>
<li>替换表达式<code>\\\1</code>中，一个字面值反斜杆后跟着一个匹配的双引号或者反斜杆。</li>
</ul>
<p>###后向引用（Back-references）</p>
<p>你可以在同样的表达式中引用同一个捕获组。这称为<em>后向引用</em>。</p>
<p>举个例子，再次调用前面的表达式<code>[abc]&#123;2&#125;</code>表示“匹配<code>aa</code>或<code>ab</code>或<code>ac</code> or <code>ba</code>或<code>bb</code>或<code>bc</code>或<code>ca</code>或<code>cb</code>或<code>cc</code>”。但是表达式<code>([abc])\1</code>表示“匹配<code>aa</code>或<code>bb</code>或<code>cc</code>”。</p>
<div class="exercise">
<h4>练习</h4>
<p>在字典中，找到出现两次相同字符串的最长的单词（比如<code>papa</code>， <code>coco</code>）。</p>
<h4><button onclick="toggle('a17');">答案</button></h4>
<p id="a17" style="display: none;"><code>\b(.&#123;6,&#125;)\1\b</code>匹配到<code>chiquichiqui</code>。如果我们不关心完整的单词，我们可以舍去单词边界断言，使用<code>(.&#123;7,&#125;)\1</code>会找到<code>countercountermeasure</code>和<code>countercountermeasures</code>。</p>
</div>

<p>##结合正则表达式编程</p>
<p>一些具体的注意事项：</p>
<p>###过度反斜线综合征（Excessive backslash syndrome）</p>
<p>在一些编程语言中，如Java，对于含有正则表达式的字符串没有提供特别的支持。字符串有自己的转义规则，这些规则与正则表达式的转义规则叠加，通常会导致反斜杆过多（overload）。比如（还是Java）：</p>
<ul>
<li>为了匹配一个数字，正则表达式<code>\d</code>在源代码中变成<code>String re = &quot;\\d;&quot;</code>。</li>
<li>为了匹配一个双引号字符串，<code>&quot;[^&quot;]*&quot;</code>变成<code>String re = &quot;\&quot;[^\&quot;]*\&quot;&quot;;</code>。</li>
<li>为了匹配一个反斜杆或者一个左方括号或者一个又方括号，正则表达式<code>[\\\[\]]</code>变成<code>String re = &quot;[\\\\\\[\\]]&quot;;</code>。</li>
<li><code>String re = &quot;\\s&quot;;</code>和<code>String re = &quot;[ \t\r\n]&quot;;</code>是一样的。注意不同的转义“优先级”。</li>
</ul>
<p>在其它编程语言里，通过一个特殊标记来标识正则表达式，通常是正斜杆<code>/</code>。这里有一些JavaScript例子：</p>
<ul>
<li>为了匹配一个数字，<code>\d</code>变成<code>var regExp = /\d/;</code>。</li>
<li>匹配一个反斜杆或者一个左方括号或者一个右方括号，<code>var regExp = /[\\\[\]]/;</code>。</li>
<li><code>var regExp = /\s/;</code>和<code>var regExp = /[ \t\r\n]/;</code>一样。</li>
<li>当然，这意味着必须对正斜杠而不是双引号进行转义。匹配URL的前面部分：<code>var regExp = /https?:\/\//;</code>。</li>
</ul>
<p>基于这一点，我希望你明白为什么我对你反复提及反斜杆。</p>
<p>###偏移量（Offsets）</p>
<p>在文本编辑器中，会在你光标所在处开始搜索。这个编辑器会向前开始搜索文字，然后停在第一个匹配的地方。下一次搜索会在第一次完成搜索的地方的右侧开始。</p>
<p>当编程的时候，文本的<em>偏移量</em>是必须的。这个偏移量会在代码中有明确的支持，或保存在包含文本的对象中（如Perl），或包含正则表达式的对象中（如JavaScirpt）。（在Java里，这是一个由正则表达式和复合对象的字符串。）在任何情况下，默认值为0，表示文本的开始。搜索后，偏移量会自动更新，或者作为输出的一部分返回。</p>
<p>无论什么情况，通常很容易去使用循环来解决这个问题。</p>
<div class="warning">
<p><strong>注意。</strong>正则表达式匹配空字符串是完全可能的。 你可以立马实现的一个简单的例子是<code>a&#123;0&#125;</code>在这种情况下，新的偏移量等于旧偏移量，从而导致死循环。</p>
<p>一些实现可能保护你避免发生这些情况，但要查下对应的文档。</p>
</div>

<p>###动态正则表达式</p>
<p>动态地构造一个正则表达式字符串时一定要小心。如果你使用的字符串不是固定的,那么它可能包含意想不到的元字符。这会导致语法错误。更糟糕的是，它可能产生一个语法正确，但行为不可预期的正则表达式。</p>
<p>有bug的Java代码：</p>
<pre><code>String sep = System.getProperty(&quot;file.separator&quot;);
String[] directories = filePath.split(sep);
</code></pre>
<p>这个bug就是：<code>String.split()</code>认为<code>sep</code>是一个正则表达式。但是在Windows下，<code>sep</code>是由犯斜杆组成的字符串<code>&quot;\\&quot;</code>.这不是一个语法正确的正则表达式。结果是：一个异常<code>PatternSyntaxException</code>。</p>
<p>任何一个优秀的编程语言都提供了一种机制，用以转义在一个字符串中出现的所有元字符。在Java中，你可以这么做：</p>
<pre><code>String sep = System.getProperty(&quot;file.separator&quot;);
String[] directories = filePath.split(Pattern.quote(sep));
</code></pre>
<p>###循环内的正则表达式</p>
<p>把正则表达式字符串编译进一个正在运行的“程序”中是一个代价昂贵的操作。如果你能避免在循环内这么做的话能提高程序性能。</p>
<p>##各类建议</p>
<p>###输入验证</p>
<p>正则表达式能用于用户输入验证。但过于严格的验证会让用户感到难受。下面举几个例子：</p>
<p><strong>支付卡号</strong></p>
<p>我在网页上输入我的卡号如<code>1234 5678 8765 4321</code>。会被这个站点拒绝。因为它使用<code>\d&#123;16&#125;</code>来进行验证。</p>
<p>该正则表达式允许出现空格和连字符。</p>
<p>其实，为什么不直接去掉所有非数字字符，然后再进行验证？要做到这一点，使用正则表达式<code>\D</code>和空字符串来替换表达式。</p>
<div class="exercise">
<h4>练习</h4>
<p>编写一个正则表达式，可以验证我的卡号而不用让我删去非数字字符。</p>
<h4><button onclick="toggle('a18');">答案</button></h4>
<p id="a18" style="display: none;"><code>\D*(\d\D*)&#123;16&#125;</code>是能多种实现中的一个方式。</p>
</div>

<p><strong>名字</strong></p>
<p>不要使用正则表达式来验证用户的名字。其实，不需要验证名字，你无能无力。</p>
<p><a target="_blank" rel="noopener" href="http://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/">Falsehoods programmers believe about names</a>提到了：</p>
<ul>
<li>名字不能包含空格。</li>
<li>名字不能包含标点符号。</li>
<li>名字只能使用ASCII字符。</li>
<li>名字会被限制在<em>任何</em>特定的字符集。</li>
<li>名字总是有像<em>M</em>字符那么长。</li>
<li>人总是有且只有一个用的名字。</li>
<li>人总是有且仅有一个中间名。</li>
<li>人总是有且只有一个姓。</li>
<li>…</li>
</ul>
<p><strong>邮件地址</strong></p>
<p>不要使用正则表达式来验证邮件地址。</p>
<p>首先，这很难保证正确无误。电子邮件地址确实符合一个正则表达式，但是这个表达式<a target="_blank" rel="noopener" href="http://www.ex-parrot.com/pdw/Mail-RFC822-Address.html">长又复杂地让人联想到世界末日</a>。任何缩略都会可能产生遗漏（false negatives）。（你知道吗？电子邮件地址可以包含注释！）</p>
<p>其次，即使所提供的电子邮件地址符合正则表达式，但也并不能证明它的存在。<strong>验证电子邮件地址的唯一方法是发送电子邮件给它。</strong></p>
<p>###标记</p>
<p>在正式的应用中，不要使用正则表达式来解析HTML或XML。解析HTML&#x2F;XML是</p>
<ol>
<li>不可能使用简单的正则</li>
<li>一般来说很难</li>
<li>一个已解决了的问题。</li>
</ol>
<p>不妨找一个已有的解析库来为你搞定这些工作。</p>
<p>##这就是55分钟内容</p>
<p>总结：</p>
<ul>
<li>字面值：<code>a b c d 1 2 3 4</code>等等。</li>
<li>字符类：<code>. [abc] [a-z] \d \w \s</code><ul>
<li><code>.</code>表示“任何字符”</li>
<li><code>\d</code>表示“一个数字”</li>
<li><code>\w</code>表示“一个单词字符”，<code>[0-9A-Za-z_]</code></li>
<li><code>\s</code>表示“一个空格，tab，回车或一个换行符”</li>
<li>否定字符类：<code>[^abc] \D \W \S</code></li>
</ul>
</li>
<li>乘法器：<code>&#123;4&#125; &#123;3,16&#125; &#123;1,&#125; ? * +</code><ul>
<li><code>?</code>表示“没有或一个”</li>
<li><code>*</code>表示“没有或多个”</li>
<li><code>+</code>表示“一个或多个”</li>
<li>乘法器是贪婪的除非你在之后使用<code>?</code></li>
</ul>
</li>
<li>分支和组合：<code>(Septem|Octo|Novem|Decem)ber</code></li>
<li>词、行和文本边界：<code>\b ^ $ \A \z</code></li>
<li>反向捕获组：<code>\1 \2 \3</code>等等。（在替换表达式和匹配表达式中同时生效）</li>
<li>元字符列表：<code>. \ [ ] &#123; &#125; ? * + | ( ) ^ $</code></li>
<li>字符类中使用到元字符列表：<code>[ ] \ - ^</code></li>
<li>你总是可以使用反斜杆对元字符进行转义：<code>\</code></li>
</ul>
<p>###感谢阅读<br>正则表达式无处不在，令人难以置信的有用。那些在编辑文本和写电脑程序方面将花费大量时间的人们应该学会如何使用它们。<br>到目前为止，我们只接触了冰山一角。</p>
<div class="exercise">
<h4>练习</h4>
<p>继续阅读你选择的正则表达式实现的对应文档。我保证在我们这里所讨论的部分之外还有更多的特性并未涉及。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2014/03/03/installing-wxwidgets-on-mac-using-xcode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2014/03/03/installing-wxwidgets-on-mac-using-xcode/" class="post-title-link" itemprop="url">xCode引入wxWidgets库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-03-03 16:17:10" itemprop="dateCreated datePublished" datetime="2014-03-03T16:17:10+08:00">2014-03-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/IDE/" itemprop="url" rel="index"><span itemprop="name">IDE</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="安装Homebrew"><a href="#安装Homebrew" class="headerlink" title="安装Homebrew"></a>安装Homebrew</h2><p>安装wxWidgets之前，推荐使用<a target="_blank" rel="noopener" href="http://brew.sh/index_zh-cn.html">Homebrew</a>管理软件包（当然，如果你熟悉<a target="_blank" rel="noopener" href="http://www.macports.org/">MacPorts</a>的话，也可以用它安装wxWidgets）。</p>
<p>在终端中键入以下命令：</p>
<pre><code>ruby -e &quot;$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)&quot;
</code></pre>
<h2 id="安装wxWidgets"><a href="#安装wxWidgets" class="headerlink" title="安装wxWidgets"></a>安装wxWidgets</h2><p>搞定Homebrew，现在安装wxWidgets库了。<br>输入：</p>
<pre><code>brew install wxwidgets
//或者brew install wxmac
</code></pre>
<p>Homebrew将会自动为你下载好os x环境下的wxWidgets，免去编译源码的步骤。安装路径为<code>/usr/local/Cellar</code>。</p>
<p>接着输入：</p>
<pre><code>wx-config --version
</code></pre>
<p>终端输出<code>3.0.0</code>说明安装成功。</p>
<h2 id="配置xCode"><a href="#配置xCode" class="headerlink" title="配置xCode"></a>配置xCode</h2><p>我们下面要配置xCode中项目的<code>Build Settings</code>。</p>
<blockquote>
<p>###<strong>配置Linking</strong></p>
</blockquote>
<p>在终端中输入：</p>
<pre><code>wx-config --libs
</code></pre>
<p>返回：</p>
<pre><code>-L/usr/local/Cellar/wxmac/3.0.0.0/lib   -framework IOKit -framework Carbon -framework Cocoa -framework AudioToolbox -framework System -framework OpenGL -framework QuickTime -lwx_osx_cocoau-3.0 
</code></pre>
<p>将上面内容填入<code>Linking</code>下的<code>Other Linker Flags</code>。</p>
<blockquote>
<p>###<strong>配置Custom Compiler Flags</strong></p>
</blockquote>
<p>在终端中输入：</p>
<pre><code>wx-config --cxxflags
</code></pre>
<p>返回：</p>
<pre><code>-I/usr/local/Cellar/wxmac/3.0.0.0/lib/wx/include/osx_cocoa-unicode-3.0 -I/usr/local/Cellar/wxmac/3.0.0.0/include/wx-3.0 -D_FILE_OFFSET_BITS=64 -DwxDEBUG_LEVEL=0 -DWXUSINGDLL -D__WXMAC__ -D__WXOSX__ -D__WXOSX_COCOA__ 
</code></pre>
<p>如果输入命令后，终端没有上述内容，请输入<code>cd</code>切换到主目录，再输入上述命令。</p>
<p>将输入内容填入<code>Custom Compiler Flags</code>下的<code>Other C++ Flags</code>。</p>
<p>至此，你可以引入<code>#inlcude &lt;wx/wx.h&gt;</code>，编写你的wxWidgets程序了！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2014/02/08/fix-uploadify-ie-error/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2014/02/08/fix-uploadify-ie-error/" class="post-title-link" itemprop="url">修正IE6下刷新页面时Uploadify引起的报错问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-02-08 14:26:55" itemprop="dateCreated datePublished" datetime="2014-02-08T14:26:55+08:00">2014-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="http://www.uploadify.com/">Uploadify</a>作为一个比较常用的页面上传控件，最近也是在上面遇到了一个问题。即使用了该控件的页面在IE6下刷新会出现下图错误：</p>
<p><a href="/images/post_img/fix-uploadify-ie-error/ie6-err.png"><img src="/images/post_img/fix-uploadify-ie-error/ie6-err.png"></a></p>
<p>调查结果是因为IE6下该控件的Object未能销毁的缘故引起的页面报错<code>document.getElementById(&quot;SWFUpload_0&quot;).SetReturnValue(&quot;&lt;undefined/&gt;&quot;);</code>和内存飙高。所以解决办法就是可以在每次刷新页面前进行对象释放。由于dwz也使用了该控件，我们可以在每次进行标签操作时进行该动作，在<code>dwz.navTab.js</code>文件的<code>_switchTab</code>函数加入如下语句：</p>
<pre><code>_switchTab: function(iTabIndex)&#123;
    for(var i=SWFUpload.movieCount; i&gt;=0; i--) &#123; // 手动释放SWFUpload对象，修正IE6下报错问题
        if(SWFUpload.instances[&quot;SWFUpload_&quot;+i])&#123;
            SWFUpload.instances[&quot;SWFUpload_&quot;+i].destroy();
        &#125;
    &#125;
    // ... 
&#125;,
</code></pre>
<p><strong><em>参考资料:</em></strong><br><em>(1)<a target="_blank" rel="noopener" href="http://blog.csdn.net/zhichao2001/article/details/9468023">http://blog.csdn.net/zhichao2001/article/details/9468023</a></em><br><em>(2)<a target="_blank" rel="noopener" href="http://my.opera.com/justnewbee/blog/fix-swfupload-destroy-ie-js-error">http://my.opera.com/justnewbee/blog/fix-swfupload-destroy-ie-js-error</a></em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2013/11/12/worldMap-component-js-and-flex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2013/11/12/worldMap-component-js-and-flex/" class="post-title-link" itemprop="url">WorldMap-JS的Flash版</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2013-11-12 17:18:20" itemprop="dateCreated datePublished" datetime="2013-11-12T17:18:20+08:00">2013-11-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/component/" itemprop="url" rel="index"><span itemprop="name">component</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>去年写了一个地图组件<a target="_blank" rel="noopener" href="https://github.com/JChord/worldMap-js">worldMap-js</a> ，因为用JS实现的，众所周知，IE6-8对JS的执行效率实在让人捉急，而国内浏览器中IE占用率又是个大头，所以萌生了用Flash重现实现这个组件的念头，使用Flex编写，目前还不完善，大体实现了地图的绘制和提示信息的展示，绘制下级地图的功能还没完成，同时MapData目前只有中国地图。</p>
<p>以下是Demo演示：</p>
<script type="text/javascript" src="../assets/demo/worldMap-flex/swfobject.js"></script>
<script type="text/javascript">
// For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. 
var swfVersionStr = "11.4.0";
// To use express install, set to playerProductInstall.swf, otherwise the empty string. 
var xiSwfUrlStr = "../assets/demo/worldMap-flex/playerProductInstall.swf";
var flashvars = {};
var params = {};
params.quality = "high";
params.bgcolor = "#ffffff";
params.allowscriptaccess = "sameDomain";
params.allowfullscreen = "true";
var attributes = {};
attributes.id = "FlashMap";
attributes.name = "FlashMap";
attributes.align = "middle";
swfobject.embedSWF(
"../assets/demo/worldMap-flex/FlashMap.swf", "flashContent", 
"560", "470", 
swfVersionStr, xiSwfUrlStr, 
flashvars, params, attributes);
// JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
swfobject.createCSS("#flashContent", "display:block;text-align:left;");
</script>
<div id="flashContent">
<p>
To view this page ensure that Adobe Flash Player version 
11.4.0 or greater is installed. 
</p>
<script type="text/javascript"> 
var pageHost = ((document.location.protocol == "https:") ? "https://" : "http://"); 
document.write("<a target="_blank" rel="noopener" href='http://www.adobe.com/go/getflashplayer'><img src='" 
+ pageHost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>" ); 
</script> 
</div>

<p>你可以在这里找到源码：<a target="_blank" rel="noopener" href="https://github.com/JChord/worldMap-flex">worldMap-flex</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2013/10/15/mixed-using-mavem-and-spring-profile/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2013/10/15/mixed-using-mavem-and-spring-profile/" class="post-title-link" itemprop="url">Maven与Spring profile的结合使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2013-10-15 11:05:55" itemprop="dateCreated datePublished" datetime="2013-10-15T11:05:55+08:00">2013-10-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Maven/" itemprop="url" rel="index"><span itemprop="name">Maven</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h2><p>在实际开发中，我们常常需要应对多类环境，针对不同的环境来更改相应的配置，比如常见开发环境、测试环境以及客户的实际部署环境。</p>
<p>因此我们会遇到下面的场景，在开发环境中数据源的获取方式是直连数据库，部署环境中需要连接的是JNDI，如何避免项目打包完每次人工更改配置文件的繁琐工作呢？</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>通过引入Spring和Maven的profile特性来实现不同环境自动切换不同配置的功能。</p>
<blockquote>
<p>###<strong>声明Spring profile</strong></p>
</blockquote>
<p>1、 定义两个beans，分别对应两个环境下的数据源配置：在Spring的配置文件<code>applicationContext.xml</code>中定义两个profile的beans。</p>
<pre><code>&lt;beans profile=&quot;development&quot;&gt;
        &lt;bean id=&quot;dataSource&quot;  class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;
        &lt;property name=&quot;driverClassName&quot;&gt;
            &lt;value&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;url&quot;&gt;
            &lt;value&gt;jdbc:sqlserver://x.x.x.x:1433;databaseName=trunk&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;username&quot;&gt;
            &lt;value&gt;sa&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;password&quot;&gt;
            &lt;value&gt;123&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;maxActive&quot;&gt;
            &lt;value&gt;200&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;maxIdle&quot;&gt;
            &lt;value&gt;30&lt;/value&gt;
        &lt;/property&gt;
        &lt;property name=&quot;maxWait&quot;&gt;
            &lt;value&gt;600&lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;

&lt;beans profile=&quot;production&quot;&gt;
     &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;
        &lt;property name=&quot;jndiName&quot;&gt;
             &lt;value&gt;java:comp/env/jdbc/test&lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;		
&lt;/beans&gt;
</code></pre>
<blockquote>
<p>###<strong>更改web.xml</strong></p>
</blockquote>
<p>那么根据Spring的profile特性，我们只要在<code>web.xml</code>文件中定义如下形式配置：</p>
<pre><code>&lt;context-param&gt;
    &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;
    &lt;param-value&gt;development&lt;/param-value&gt;
&lt;/context-param&gt;
</code></pre>
<p>或</p>
<pre><code>&lt;context-param&gt;
    &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;
    &lt;param-value&gt;production&lt;/param-value&gt;
&lt;/context-param&gt;
</code></pre>
<p>就会启用相应的profile配置，Spring根据指定的配置来注入依赖。</p>
<blockquote>
<p>###<strong>为spring.profiles.active赋值</strong></p>
</blockquote>
<p>那么如何在打包时自动更改<code>spring.profiles.active</code>的值呢？这就需要Maven的profile特性。</p>
<p>我们将上述<code>spring.profiles.active</code>的param-value的值更改为{profiles.active}，这是Maven的属性值替换的占位符，Maven的资源过滤插件（Maven Resources plugin）将会在构建期间替换该值，为了在打包时启用资源过滤，需要我们配置Maven打包插件（Maven war plugin）：</p>
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.4&lt;/version&gt;
        &lt;configuration&gt;
            &lt;warName&gt;$&#123;project.artifactId&#125;&lt;/warName&gt;
                    
                &lt;!-- 激活spring profile --&gt;
                &lt;webResources&gt;
                    &lt;resource&gt;
                        &lt;filtering&gt;true&lt;/filtering&gt;
                        &lt;directory&gt;src/main/webapp&lt;/directory&gt;
                        &lt;includes&gt;
                            &lt;include&gt;**/web.xml&lt;/include&gt;
                        &lt;/includes&gt;
                        &lt;/resource&gt;
                &lt;/webResources&gt;
                &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;
                &lt;webXml&gt;src/main/webapp/WEB-INF/web.xml&lt;/webXml&gt;
                    
        &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre>
<blockquote>
<p>###<strong>启用Maven profile</strong></p>
</blockquote>
<p>最后在项目的<code>pom.xml</code>或m2文件夹下的<code>setting.xml</code>中指定Maven的profile：</p>
<pre><code>&lt;!-- 不同的打包环境 --&gt;
&lt;profiles&gt;
    &lt;!-- 开发环境，默认激活 --&gt;
    &lt;profile&gt;
        &lt;id&gt;development&lt;/id&gt;
        &lt;properties&gt;
            &lt;profiles.active&gt;development&lt;/profiles.active&gt;
        &lt;/properties&gt;
        
    &lt;/profile&gt;
    
    &lt;!-- 部署环境 --&gt;
    &lt;profile&gt;
        &lt;id&gt;production&lt;/id&gt;
        &lt;properties&gt;
            &lt;profiles.active&gt;production&lt;/profiles.active&gt;
        &lt;/properties&gt;
        &lt;activation&gt;
            &lt;!-- 默认启用的是dev环境配置 --&gt;
            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
        &lt;/activation&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>
<p>根据上述配置，输入打包命令<code>mvn clean package</code>默认启用的是production，数据源由JNDI提供，如果需要激活另一个profile，只要更改打包命令为<code>mvn clean package -P development</code>。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2013/05/17/use-ztree-replace-jtree-of-dwz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2013/05/17/use-ztree-replace-jtree-of-dwz/" class="post-title-link" itemprop="url">用zTree替换DWZ(j-UI)中的jTree</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2013-05-17 12:48:49" itemprop="dateCreated datePublished" datetime="2013-05-17T12:48:49+08:00">2013-05-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="组件版本"><a href="#组件版本" class="headerlink" title="组件版本"></a>组件版本</h2><ul>
<li><p>DWZ: <a target="_blank" rel="noopener" href="https://code.google.com/p/jquerytree/downloads/list">v1.4.5</a></p>
</li>
<li><p>zTree: <a target="_blank" rel="noopener" href="https://code.google.com/p/jquerytree/downloads/list">v3.5.12</a></p>
</li>
</ul>
<h2 id="替换步骤"><a href="#替换步骤" class="headerlink" title="替换步骤"></a>替换步骤</h2><blockquote>
<p>###<strong>样式文件替换</strong></p>
</blockquote>
<p>定位dwz的themes&#x2F;css下的<code>core.css</code>文件，在184行~216行中注释JTree样式。</p>
<p>提取zTree的样式文件<code>zTreeStyle.css</code>（位于css&#x2F;zTreeStyle）及图标资源img文件夹。前者代码置于dwz的<code>core.css</code>的底部以防止dwz预定义的样式破坏zTree的样式。同时将img文件夹与<code>core.css</code>放在同一个文件夹下（themes&#x2F;css&#x2F;）。</p>
<blockquote>
<p>###<strong>脚本文件替换与修改</strong></p>
</blockquote>
<p>找到DWZ的js文件夹下的<code>dwz.tree.js</code>文件，用zTree的js文件<code>jquery.ztree.all-3.5.js</code>中的内容替换（如果不需要zTree的excheck + exedit扩展，可以使用<code>jquery.ztree.core-3.5.js</code>）。</p>
<p>脚本内容替换完成后，需要修改<code>dwz.ui.js</code>与<code>dwz.tree.js</code>（现在它的脚本语句是zTree的）：</p>
<ul>
<li>dwz.ui.js</li>
</ul>
<p>注释掉77行的调用jTree语句。</p>
<pre><code>$(&quot;ul.tree&quot;, $p).jTree();
</code></pre>
<ul>
<li>dwz.tree.js</li>
</ul>
<p>1、树节点添加DWZ中的rel属性（添加DWZ中的external属性同理）：</p>
<p>找到<code>makeDOMNodeNameBefore</code>方法（当前版本位于1112行），在html.push方法后添加：</p>
<pre><code>if (node.rel) &#123;
    html.push(&quot;&#39; rel=&#39;&quot;, node.rel);
&#125;
</code></pre>
<p>2、更改节点的默认Target为<code>navTab</code>：</p>
<p>找到<code>makeNodeTarget</code>方法（当前版本位于1178行），return语句修改为<code>return (node.target || &quot;navTab&quot;);</code></p>
<p>3、修改节点属性更新方法<code>updateNode</code>（当前版本位于1639行），追加<code>view.setNodeRel(this.setting, node)</code>。</p>
<p>setNodeRel方法定义如下：</p>
<pre><code>setNodeRel: function(setting, node) &#123;
        var aObj = $(&quot;#&quot; + node.tId + consts.id.A),
        rel = treeNode.rel;
        if (rel == null || rel.length == 0) &#123;
            aObj.removeAttr(&quot;rel&quot;);
        &#125; else &#123;
            aObj.attr(&quot;rel&quot;, rel);
        &#125;
    &#125;
</code></pre>
<h2 id="调用方式"><a href="#调用方式" class="headerlink" title="调用方式"></a>调用方式</h2><p>原先的jTree调用方式</p>
<pre><code>&lt;ul class=&quot;tree treeFolder&quot;&gt;
    &lt;li&gt;
        &lt;a href=&quot;tabsPage.html&quot; target=&quot;navTab&quot;&gt;主框架面板&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;&lt;a href=&quot;main.html&quot; target=&quot;navTab&quot; rel=&quot;main&quot;&gt;我的主页&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;http://www.baidu.com&quot; target=&quot;navTab&quot; rel=&quot;page1&quot;&gt;页面一(外部页面)&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;demo_page2.html&quot; target=&quot;navTab&quot; rel=&quot;external&quot; external=&quot;true&quot;&gt;iframe navTab页面&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>现在的zTree调用方式：<br>将上述树DOM内容更改为</p>
<pre><code>&lt;div class=&quot;zTreeDemoBackground left&quot;&gt;
    &lt;ul id=&quot;treeDemo&quot; class=&quot;ztree&quot;&gt;&lt;/ul&gt;
&lt;/div&gt;
</code></pre>
<p>添加如下调用脚本：</p>
<pre><code>var setting = &#123;
        data: &#123;
            simpleData: &#123;
                enable: true
            &#125;
        &#125;
&#125;;

var zNodes =[
        &#123; id:1, pId:0, name:&quot;主框架面板&quot;, url:&quot;tabsPage.html&quot;, target:&quot;navTab&quot;, open:true&#125;,
        &#123; id:2, pId:1, name:&quot;我的主页&quot;, url:&quot;main.html&quot;, target:&quot;navTab&quot;, rel:&quot;main&quot;&#125;,
        &#123; id:3, pId:1, name:&quot;iframe navTab页面&quot;, url:&quot;demo_page2.html&quot;, target:&quot;navTab&quot;, rel:&quot;external&quot;, external:&quot;true&quot;&#125;
    ];

    $(document).ready(function()&#123;
        $.fn.zTree.init($(&quot;#treeDemo&quot;), setting, zNodes);
    &#125;);
</code></pre>
<p><em>注意：原先超链接中href属性名要更改为url。</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://doslin.com/2013/05/02/high-performance-javascript-note-2-data-access/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DosLin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DosLin's Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | DosLin's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2013/05/02/high-performance-javascript-note-2-data-access/" class="post-title-link" itemprop="url">《高性能JavaScript》读书笔记[2]-数据访问</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2013-05-02 15:36:16" itemprop="dateCreated datePublished" datetime="2013-05-02T15:36:16+08:00">2013-05-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>数据的存储位置会影响其读取速度，这个问题对于JavaScript来说相对简单，因为它只有<strong>四种基本的数据存储位置</strong>:</p>
<ul>
<li>直接量</li>
<li>变量</li>
<li>数组元素</li>
<li>对象成员</li>
</ul>
<p>一般来说，使用直接量和局部变量的访问速度快于数组项和对象成员的访问速度（除非浏览器内部刻意优化）。</p>
<h2 id="管理作用域"><a href="#管理作用域" class="headerlink" title="管理作用域"></a>管理作用域</h2><blockquote>
<p>###<strong>作用域链和标识符解析</strong></p>
</blockquote>
<p>每一个JavaScript函数都是Function对象的一个实例。而该对象拥有可编程访问的属性和不能通过代码访问的内部属性（仅供JavaScript引擎存取）。内部属性中的<a target="_blank" rel="noopener" href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">Scope</a>包含的一个函数被创建的作用域中对象的集合称为函数的作用域链。</p>
<p>执行函数时会创建一个运行期上下文（execution context）的内部对象，每个运行期上下文对象都有自己的作用域链用于标识符解析。正是解析标识符时在作用域链中的搜索过程影响了性能。</p>
<blockquote>
<p>###<strong>标识符解析的性能</strong></p>
</blockquote>
<p>一个标识符在运行期上下文的作用域链中位置越深，它的读写速度就越慢。因为全局变量总是存在于运行期上下文作用域链的最末端，因此读写全局变量较读写局部变量来说是慢的。</p>
<blockquote>
<p>###<strong>改变作用域链</strong></p>
</blockquote>
<p>可通过<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/js/pro_js_statements_with.asp">with</a>语句或<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/js/js_try_catch.asp">try-catch</a>语句中的catch子句临时改变作用域链。</p>
<blockquote>
<p>###<strong>动态作用域</strong></p>
</blockquote>
<p>动态作用域只存在于代码执行过程中，因此无法通过静态分析（查看代码结构）检测出来。<code>with</code>语句、<code>try-catch</code>中的<code>catch</code>子句以及包含<code>eval()</code>的函数，都被认为是动态作用域。</p>
<blockquote>
<p>###<strong>闭包，作用域和内存</strong></p>
</blockquote>
<p>当闭包被创建时，它的<code>Scope</code>属性初始化为上下文中的活动对象和全局对象。</p>
<p>当闭包被执行时，它的’Scope’属性中对了一个为闭包自身所创建的活动对象。所以要访问的标识符存在于作用域链第一个对象之后的位置，访问时导致性能损失。</p>
<h2 id="对象成员"><a href="#对象成员" class="headerlink" title="对象成员"></a>对象成员</h2><blockquote>
<p>###<strong>原型</strong></p>
</blockquote>
<p>JavaScript中的对象是基于原型(Prototype)的。原型定义并实现了一个新对象必须包含的成员列表，并为所有对象实例所共享。</p>
<p>对象可以有两种成员类型：实例成员（存在于对象实例中）和原型成员（由对象原型集成而来）。</p>
<p>可以使用<code>hasOwnProperty()</code>方法判断对象是否包含特定的实例成员（只搜索原型）。</p>
<p>使用<code>in</code>操作符判断对象是否包含特定的属性（既搜索实例也搜索原型）。</p>
<blockquote>
<p>###<strong>原型链</strong></p>
</blockquote>
<p>对象的原型决定了实例的原型（所有的对象都是Object的实例）。</p>
<p>访问对象成员（属性（非函数类型成员）或方法（函数类型成员））的过程就是先搜索对象的实例成员，再遍历原型链。对象成员的深度决定了访问它所需的时间。</p>
<blockquote>
<p>###<strong>嵌套成员</strong></p>
</blockquote>
<p>对象成员嵌套越深，访问速度就会越慢。如访问速度：</p>
<pre><code>location.href &gt; widow.location.href &gt; window.location.href.toString()
</code></pre>
<blockquote>
<p>###<strong>缓存成员对象值</strong></p>
</blockquote>
<p>在同一个函数中没有必要多次访问同一个对象成员，除非它的值发生了更改。如果需要多次查找成员变量，可以使用局部变量来进行缓存。但这种方法并不适用于<strong>使用this来进行判断执行上下文的对象方法</strong>。因为把一个方法保存在局部变量中会导致<code>this</code>绑定到window。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li>访问直接量和局部变量比访问数组元素和对象成员快。</li>
<li>变量在作用域链中的位置越深，访问所需时间越长。属性或方法在原型链中的位置越深，访问它的速度也越慢。</li>
<li>由于局部变量存在于作用域链的起始位置使得访问局部变量比访问跨作用域变量快。 </li>
<li>由于全局变量总处在作用域链的最末端，因此访问速度最慢。</li>
<li>避免使用<code>with</code>语句和<code>try-catch</code>语句中的<code>catch</code>子句，因为它们会改变运行期上下文作用域链。</li>
<li>尽量少用影响性能的嵌套的对象成员。</li>
<li>可以把常用的对象成员、数组元素、跨域变量保存在局部变量中来改善JavaScript性能。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DosLin</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
